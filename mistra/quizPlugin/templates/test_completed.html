{% extends "base.html" %}

{% block title %}Test Completato{% endblock %}

{% block content %}
    <div class="alert alert-success" role="alert">
        <h4 class="alert-heading">Hai completato il test!</h4>
        <p class="mb-2">Punteggio totale: <strong>{{ execution.score }}</strong></p>
        <p class="mb-2">Durata: <strong>{{ execution.duration }}</strong></p>
        <hr>
        <p class="mb-0">Codice di revisione: <code>{{ execution.revision_code }}</code><a class="ms-3" href="{% url 'quiz-completed' revision_code=execution.revision_code %}">(link)</a></p>
        <p class="mb-0"></p>
    </div>

    <div>
        <h4 class="alert-heading mt-4">Le tue risposte</h4>
        <ul class="list-group">
            {% for ga in given_answers %}
                <li class="list-group-item">
                    <p><strong>Domanda:</strong> {{ ga.answer.question.text }}</p>
                    <p><strong>Risposta data:</strong> {{ ga.answer.text }}</p>
                    
                    {% if ga.answer.score != 1 %}
                        <p><strong>Commento:</strong> {{ ga.answer.correction }}</p>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    </div>

    <a href="{% url 'quiz-home' %}" class="btn btn-secondary mt-4">Torna alla Home</a>
{% endblock %}