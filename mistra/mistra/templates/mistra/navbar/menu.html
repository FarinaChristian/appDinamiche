{% load i18n menu_tags cache %}

<style>
.nav-item.dropdown {
    position: relative;
}

.nav-item.dropdown:hover > .dropdown-menu {
    display: block !important;
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 0;
    z-index: 1000;
    min-width: 10rem;
}

.nav-link:hover {
    background-color: #003449 !important;
    color: white !important;
}
</style>

{% spaceless %}
    {% for child in children %}
        <li class="nav-item text-center 
                   {% if child.children %} dropdown nav-item-has-children d-lg-flex align-items-lg-center {% endif %} 
                   {% if child.selected or child.ancestor %} active-parent-li {% endif %}" 
            style="{% if child.selected or child.ancestor %}background-color: #003449;{% endif %}">
            
            {% if child.children %}
                <a class="nav-link nav-link-main {% if child.selected or child.ancestor %} active{% endif %}" 
                   href="{{ child.get_absolute_url }}" 
                   style="color: white; {% if child.selected or child.ancestor %}background-color: #003449;{% endif %}">
                    {{ child.get_menu_title }}
                </a>

                <div class="dropdown-menu" style="background-color: #003449;">
                    {% show_menu from_level to_level extra_inactive extra_active "mistra/navbar/dropdown.html" "" "" child %}
                </div>
            {% else %}
                <a class="nav-link{% if child.selected %} active{% endif %}" 
                   href="{{ child.get_absolute_url }}" 
                   style="color: white; {% if child.selected %}background-color: #003449;{% endif %}">
                    <span>{{ child.get_menu_title }}</span>
                </a>
            {% endif %}
        </li>
    {% empty %}
        <li class="nav-item">
            <a class="nav-link text-white disabled" href="#" tabindex="-1" aria-disabled="true">
                Menu non disponibile
            </a>
        </li>
    {% endfor %}
{% endspaceless %}